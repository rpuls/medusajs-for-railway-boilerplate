"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.evaluate = evaluate;

var _command = _interopRequireDefault(require("../command"));

var _defineCommand = require("./defineCommand");

var _sha = _interopRequireDefault(require("../commands-utils/sha1"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function evaluate(script, numberOfKeys, ...args) {
  // store sha1 and the script  itself for `evalsha` function
  const scriptSha = (0, _sha.default)(script);
  this.shaScripts[scriptSha] = script; // evaluate

  return (0, _command.default)((0, _defineCommand.customCommand)(numberOfKeys, script).bind(this), '', this)(...args);
}